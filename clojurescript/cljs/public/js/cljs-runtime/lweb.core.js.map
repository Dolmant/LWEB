{"version":3,"file":"lweb.core.js","sources":["lweb/core.cljs"],"mappings":"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","names":["cljs.core/enable-console-print!","lweb.core/onClick","js/console.log","lweb.core/waitForImages","hydrated?","lweb.core/blockerImages","loadCount","cljs.core.atom.cljs$core$IFn$_invoke$arity$1","lweb.core/onLoad","cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$2","cljs.core/inc","cljs.core/deref","cljs.core/count","js/document","js/particlesJS","lweb.core/attachLoader","src","lweb.core/img","js/Image","seq__7192","cljs.core/seq","chunk__7193","count__7194","i__7195","temp__5457__auto__","cljs.core/chunked-seq?","c__4947__auto__","cljs.core/chunk-first","cljs.core/chunk-rest","cljs.core/first","cljs.core/next","rum.core/build-defc","js/React.createElement","sablono.interpreter/interpret","lweb.core/home-page","rum.core/reactive","lweb.App/App","js/lweb","js/lweb.core","js/lweb.core.page","lweb.core/page","lweb.core/current-page","cljs_react_material_ui.core.mui_theme_provider.cljs$core$IFn$_invoke$arity$variadic","cljs_react_material_ui.core.get_mui_theme.cljs$core$IFn$_invoke$arity$0","fexpr__7210","action__2481__auto__","params__2482__auto__","cljs.core/map?","map__7211","cljs.core/PROTOCOL_SENTINEL","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/hash-map","cljs.core/vector?","vec__7213","secretary.core/add-route!","cljs.core/reset!","lweb.core/mountRoot","lweb.core/targetElement","rum.core/hydrate","rum.core/mount","lweb.core/init!","accountant.core/configure-navigation!","path","secretary.core/dispatch!","secretary.core/locate-route","accountant.core/dispatch-current!"],"sourcesContent":["(ns lweb.core\n    (:require   [rum.core :as rum]\n                [secretary.core :as secretary :include-macros true]\n                [accountant.core :as accountant]\n                [lweb.App :as App]\n                 [cljs-react-material-ui.core :as ui]\n                ;[\"@material-ui/core\" :as ui]\n                ))\n\n;; dummy function for actions\n(enable-console-print!)\n(defn onClick []\n    (js/console.log \"hello\"))\n\n(defn waitForImages [hydrated?]\n    (def blockerImages [\"/assets/webImages/CRISPR.jpg\"])\n    (let [loadCount (atom 0)]\n        (defn onLoad []\n            (swap! loadCount inc)\n            (if (>= @loadCount (count blockerImages))\n                (do     \n                (set! (.-className (.getElementById js/document \"html\")) \"\")\n                (if hydrated?\n                    (js/particlesJS \"introImage\" \"./assets/particlesBusted.json\" onClick)))))\n        (defn attachLoader [src]\n            (def img (js/Image.))\n            (set! (.-onload img) onLoad)\n            (set! (.-src img) src)\n            (if (.-complete img) (onLoad))\n        )\n        (doseq [src blockerImages]\n            (attachLoader src))\n    )\n)\n    \n\n(rum/defc home-page < rum/reactive []\n    (onClick)\n    [:div [:h2 \"Welcome to lweb\"]\n        [:div [(App/App)]]\n     ;(ui/Button)\n     ])\n\n(defonce page (atom #'home-page))\n\n(rum/defc current-page []\n    (ui/mui-theme-provider\n        {:theme (ui/get-mui-theme)}\n        [(@page)])\n  )\n\n(secretary/defroute \"/*\" []\n    (reset! page #'home-page))\n; todo put in a toaster\n; {/* <ReduxToastr\n;     timeOut={4000}\n;     newestOnTop={false}\n;     preventDuplicates\n;     position=\"top-left\"\n;     transitionIn=\"fadeIn\"\n;     transitionOut=\"fadeOut\"\n;     progressBar\n; /> */}\n;; -------------------------\n;; Initialize app\n\n(defn mountRoot []\n    (def targetElement (.getElementById js/document \"app\"))\n    (if (.hasChildNodes targetElement)\n        (do (js/console.log \"hydrated\") (rum/hydrate (current-page) targetElement) (waitForImages true))\n        (do (js/console.log \"rendered\") (rum/mount (current-page) targetElement) (waitForImages false))  ;; RenderSnapShot or just output a string to save\n    )\n)\n\n(defn init! []\n    (accountant/configure-navigation!\n        {:nav-handler\n            (fn [path]\n                (secretary/dispatch! path))\n                    :path-exists?\n                        (fn [path]\n                            (secretary/locate-route path))})\n    (accountant/dispatch-current!)\n    (mountRoot))\n"]}